NTFS 와 FAT 파일 시스템의 비교

(File Allocation Table)
FAT32를 사용하는 주요한 이유는 
컴퓨터가 어떤 경우에는 Windows 95, Windows 98 또는 Windows Millennium Edition을 실행하고 
다른 경우에는 이 Windows 버전을 실행하도록 멀티부팅 환경으로 구성되어 있기 때문


Access Control List/Entry
DACL 		    / SACL
임의 접근 제어목록  / 시스템 접근 제어목록
퍼미션 지정	    / 시스템 감사
ACL과 ACE	    / ACL과 ACE
ACL 파일 폴더 


DACL (임의 접근 제어목록)
퍼미션 지정	    
 ACL - 파일이나 폴더에 접근 할 수 있는 사용자나 그룹의 리스트 	(사용자/그룹에 전근권한 추가/편집)
 ACE - ACL에 있는 사용자 또는 그룹의 권한 목록			(사용자/그룹의 상세 사용권한 편집)

SACL (시스템 접근 제어 목록)
 시스템 감사


감사로그
성공감사 / 실패감사 
[분기예측 - 사용자의 다음 행위를 예측하는 것 | web에서는 다음 행위에 대한 load를 준비시켜 줌.]
 ㄴ분기문(for문)이 실행할 파이프라인의 결과값을 미리 수행해서 대기시키는 것.
감사를 쓰면, 분기예측을 안하니까 준비단계부터 해야해서 성능이 최대 50% 까지 떨어진다.
감사를 쓰면, 버퍼도 못씀
때문에, 감사는 필요할 때만 사용할 것.








(FAT + ACL)
NTFS : 
FAT32에서는 가능하지 않은, 일부 디스크 관련 오류를 자동으로 복구할 수 있습니다.
대용량 디스크에 대한 지원이 향상되었습니다.
사용 권한 및 암호화를 사용하여 승인된 사용자만 특정 파일에 액세스할 수 있게 하므로 보안이 향상되었습니다.


http://www.delmaster.net/168
퍄일/Dir 마다 ACL이 들어 있다.
사용자(t1) -> A.txt 클릭 -> (ACL 가서 권한 확인) -> A.txt 권한에 따라 판단.




NTFS Permissins

[File Permissions]
읽기 : 읽기, 실행
쓰기 : 만드는 권한, 생성
수정 : 생성, 수정, 삭제
모든권한 : 위의 모든 권한 + 소유권 가져오기, 퍼미션 설정가능

[Folder Permissions]
읽기 : 읽기, 실행, 폴더 내용보기
쓰기 : 만드는 권한, 생성
수정 : 생성, 수정, 삭제, 폴더내용보기
모든권한 : 위의 모든 권한 + 소유권 가져오기, 퍼미션 설정가능
폴더내용보기: 폴더안의 내용 보기




Active Directory 에서 사용자 만들면 Domain User 그룹에 자동으로 들어간다.
OS 깔고 계정 파면 Users
AD 서비스에서 Domain 에서 계정 파면 Doamin Users
Users > Domain Users (포함관계)

7개의 일반 permission (요약된 Permission)
상대 Permission 권한 14개
 * Permission은 부모로부터 상속 받는다.
	ㄴ상속받은 내용은 변경 불가

폴더 1,2,3,4,5 추가하고

폴더 1에 ACL T1 추가
폴더 2에 T1 수정권한 추가(수정과 쓰기가 추가되었다.)
폴더 3에 ACL M1 추가 (회색은 상속 / 검은색은 이 파일부터 새로 정의 된 것)
폴더 4에 T1 제거 시도 ( 제거 실패 - 사용권한 상속 때문에 불가)
	ㄴ 거부하고 재정의 해야 한다. (어떻게 거부하나 ?보안 - 고급에서 사용 권한 변경 - 상속 권한 포함(체크 풀기))
	추가 -상속 거부하고 static하게 두겠다. / 거부 - 상속 거부하고 다 비워 두겠다.
	이하늬 제거

ROOT는 C:\(각 드라이버)

권한 - 누적
 : 명시적 거부 / 암묵적 거부 [허용은 명시적 허용, 거부는 암묵적 거부(revoke)를 사용할 것]
? 명시적으로 거부할 경우, 권한이 누적되는데 사용자가 다른 그룹에서 권한을 사용하지 못할 수 있다.
 ㄴ 명시적 거부 하면, 기록해 놔야 한다. ( 안그러면 못찾을 수도 있음 )


NTFS 
1. 권한이 상속(상위에서 하위로) 된다.
2. 권한은 누적된다.
3. 상속 거부가 가능하다.
4. 허용은 '명시적' 거부는 '암시적'
5. ACL / ACE (상속은 회색 / 나 부터 시작이면 검은색)
6. Creator Owner[파일 생성한 사용자], Users[모든 사용자]

가상머신 하드 추가 그냥 Hard Disk 추가해 주면 된다.
diskmgmt.msc


C:\에 폴더를 생성한후, 특정 퍼미션을 설정한뒤

1. 같은 드라이브 안에서 폴더를 복사했을 경우 퍼미션?
	- reference값이 변한게 아니라 value 값이라서 영향 없다(그냥 새로운 폴더 생성 - 현재 위치 상속 구조를 따른다)
2. 다른 드라이브로 폴더를 복사했을 경우 퍼미션?
	- reference값이 변한게 아니라 value 값이라서 영향 없다(그냥 새로운 폴더 생성 됨)
3. 같은 드라이브 안에서 폴더를 옮겼을 경우 퍼미션?
	- reference 값을 가지고 이동하니까 그대로 가지고 오고, 현재 위치의 상속 구조를 따른다.
4. 다른 드라이브로 폴더를 옮겼을 경우 퍼미션?
	- 

그러면, 어떻게 Permission을 유지 할 수 있을 까?
xcopy /O
teracopy
robocopy /copyall /move

shift + 우클릭 : 여기서 명령창 열기



데이터 마이그레이션
구형 서버 -> 신형서버
 ㄴ 서비스 이동시켜야 한다.[마이그레이션(migration);이주하다]

############################################################################################################

Direct Attached Storage
Network Attached Storage
Storage Area Network

DAS : 물리적으로 연결 (Direct Attached Storage)
[HDD , USB]
장점 : 구성이 간편 ; 저렴한 솔류션
단점 : 비교적 느리다; 디스크는 하나의 서버에 격리되어 연결되어 있다.
ㄴ 단점극복 : 공유폴더(Network Access 를 제공해 주기 위해)


10/100M
Network Attached Storage - 시놀로지Corp. HDD니까 DAS와 별 차이 없는 듯?
NAS는 전용 장칭 부착하고 네트워크 공유를 통해 액세스 되는 저장영역이다.
	장점 :  상대적으로 저렴한 가격에 중앙집중화 된 저장소를 제공
		구성이 간단
	
	단점 :  느린 액세스 시간[UTP라서 지연시간 발생; 로컬 속도에 따라서 전송속도가 결정]
		엔터프라이즈 솔루션은 아니다.



Storage Area Network
가장 높은 유연성 및 가용성 제공
[Fiber Channel 또는iSCSI를 통해 구현될 수잇다.] 텐즈 > iSCSI (텐즈가 더빠르다.)
	장점 :  가장 빠른 액세스 시간(4Gbps/8Gbps 광케이블 사용함) 500/1000MB 속도
		쉬운 확장
		중앙 집중식 저장
		높은 수준의 이중화(이중화 작업 해야 한다. 가능하다는 정도로 이해할 것)
	
	단점 :  상대적으로 고가의 비용
		전문기술 필요


공유 폴더
공유 권한 : 네트워크 권한 - 인증 / 읽기
 Shared Permission( NTFS Permission() )

읽기 / 변경 권한을 가지고 공유 폴더에 들어오더라도
공유폴더가 읽기와 쓰기만 설정해 주니까 읽기 쓰기 권한만 있다.
but, 자신이 만든 파일에 대하여는 모든권한을 갖는다.


EVERY ONE 기본적으로 삭제
auth 사용자 추가 | 설정 -> 변경 추가

[사용자 외 내용 볼 수 없게 하기]
s1에서 USER 사용권한
특성읽기 / 확장 특성 읽기 / 사용 권한 읽기
셋 중 하나만 떼도 엑세스 거부 됨.